---
layout: post
title:  ìë°”ì—ì„œ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ë²•
categories: java
---

 ìš´ì˜ì²´ì œëŠ” ì—¬ëŸ¬ê°€ì§€ ì‘ì—…ì„ ë™ì‹œì— ì²˜ë¦¬ í•˜ê¸° ìœ„í•´ ì ì ˆí•˜ê²Œ ë©”ëª¨ë¦¬ ìì›ì„ í”„ë¡œì„¸ìŠ¤ë§ˆë‹¤ í• ë‹¹í•˜ê³  ë³‘ë ¬ë¡œ ì‹¤í–‰ì‹œí‚¨ë‹¤ê³  í•©ë‹ˆë‹¤.    
    
 ë”êµ°ë‹¤ë‚˜ í•œ ê°œì˜ í”„ë¡œì„¸ìŠ¤ì—ì„œë„ ì—¬ëŸ¬ê°€ì§€ ì‘ì—…ì„ ì²˜ë¦¬ í•  ìˆ˜ ìˆëŠ”ë° ìë°”ì—ì„œëŠ” ì–´ë–»ê²Œ ì´ë¥¼ ì²˜ë¦¬í• ê¹Œìš” ?

### ë™ì‹œì„±ê³¼ ë³‘ë ¬ì„±

`ë™ì‹œì„±`ì€ `í•˜ë‚˜ì˜ ì½”ì–´` ì—ì„œ `ë‹¤ì¤‘` ìŠ¤ë ˆë“œê°€ ë²ˆê°ˆì•„ê°€ë©° ì‹¤í–‰í•˜ëŠ” ì„±ì§ˆ     
`ë³‘ë ¬ì„±`ì€ `ì—¬ëŸ¬ê°œ ì½”ì–´` ì—ì„œ `ë‹¨ì¼` ìŠ¤ë ˆë“œë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ëŠ” ì„±ì§ˆ   

### ë©”ì¸ ìŠ¤ë ˆë“œ

```java
public static void main(String[] args) {
  System.out.println(Thread.currentThread());
}
```
main í•¨ìˆ˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë¥¼ ê°€ì§€ê³  ìˆëŠ”ë° ì´ë¥¼ `ë©”ì¸ìŠ¤ë ˆë“œ` ë¼ê³  í•©ë‹ˆë‹¤.

## ì‘ì—… ìŠ¤ë ˆë“œ

```java
Thread threadA = new Thread(() -> {
  System.out.println("A");
});
Thread threadB = new Thread(() -> {
  System.out.println("B");
});
threadA.start();
threadB.start();
```

### Thread ì§ì ‘ ìƒì„±

```java
Thread thread = new Thread(Runnable runnable)
```

`Runnable` ì€ ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤. ì‘ì—…ìŠ¤ë ˆë“œ ê°ì²´ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œ êµ¬í˜„ í´ë˜ìŠ¤ëŠ” `run()` í•¨ìˆ˜ë¥¼ ì¬ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤.

```java
// ìµëª…ê°ì²´ë¡œ ìƒì„±í•˜ê¸°
Thread thread = new Thread() {
  @Override
  public void run() {
    ...
  }
};
// ëŒë‹¤ì‹ìœ¼ë¡œ ìƒì„±í•˜ê¸°
Thread thread = new Thread(() -> {
  ...
});

// Runnable êµ¬í˜„ê°ì²´ë¡œ ìƒì„±í•˜ê¸°
class WorkThread implements Runnable {
  public void run() {
    ...
  }
}
```

## ìŠ¤ë ˆë“œí’€

ë³‘ë ¬ ì‘ì—… ì²˜ë¦¬ë¥¼ ì œì–´í•˜ê¸° ìœ„í•´ì„œ ìŠ¤ë ˆë“œ í’€ì„ ì‚¬ìš©í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.

```java
ExecutorService executorService = Executors.newCachedThreadPool()
```

ì´ ì™¸ ExecutorService êµ¬í˜„ ê°ì²´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.


| ë©”ì†Œë“œëª… | ì´ˆê¸° ìŠ¤ë ˆë“œ ìˆ˜ | ì½”ì–´ ìŠ¤ë ˆë“œ ìˆ˜ | ìµœëŒ€ ìŠ¤ë ˆë“œ ìˆ˜ |
| :--- | :--- | :--- | :--- |
| newCachedThreadPool() | 0 | 0 | Integer.MAX_VALUE |
| newFixedThreadPool(int threads) | 0 | threads | threads |

ğŸ’¡ ë³‘ë ¬ ì‘ì—…ì²˜ë¦¬ë¥¼ ì‘ì—… íì—ì„œ ì²˜ë¦¬ í•  ìˆ˜ ìˆë„ë¡ ìë°”ëŠ” `java.util.concurrent` íŒ¨í‚¤ì§€ì˜ `ExecutorService` ì¸í„°í˜ì´ìŠ¤ì™€ `Executors` í´ë˜ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤   
   
ë§¤ê°œë³€ìˆ˜ì—ëŠ” CPUì˜ ì½”ì–´ ê°¯ìˆ˜ ë§Œí¼ ì •ì˜ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```java
int count = Runtime.getRuntime().availableProcessors()
ExecutorService executorService = newFixedThreadPool(count)
```

## ì´ë¦„ ì„¤ì •

ìŠ¤ë ˆë“œëŠ” ê³ ìœ ì˜ ì´ë¦„ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì£¼ë¡œ ë¡œê·¸ë¥¼ ë‚¨ê¸¸ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```java
public class WorkThread extends Thread {
    @Overirde
    public void run() {
        setName("Thread-A")
        System.out.println(getName());
    }
}
```
